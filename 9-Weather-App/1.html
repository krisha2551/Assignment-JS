<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet"/>

  <style>
    /* ===== Background ===== */
    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* ===== Card Styling ===== */
    #weatherCard, #weatherList .row {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      transition: 0.3s ease-in-out;
    }

    #weatherCard:hover, #weatherList .row:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.2);
    }

    #city {
      border-radius: 30px;
      padding: 10px 20px;
    }

    /* ===== Weather Icons ===== */
    i {
      font-size: 20px;
      color: #0077ff;
    }

    /* Forecast row spacing */
    #weatherList .row {
      padding: 10px;
      margin-bottom: 15px;
      align-items: center;
    }
  </style>
</head>
<body>
    
  <div class="container">
    <div class="row justify-content-center my-5">
      <div class="col-md-6 col-lg-4">
        <input type="text" placeholder="🔍 Search city weather" class="shadow-sm form-control" id="city">

        <div class="w-100 my-3 p-3" id="weatherCard"></div>
      </div>
    </div>
    
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <div class="w-100 my-2 p-3" id="weatherList"></div>
      </div>
    </div>
  </div>

<script>
let api_key = '1709c9e37240d686e3ff7678dde4d81e'

let cityInput = document.querySelector("#city")
let card = document.querySelector("#weatherCard")
let list = document.querySelector("#weatherList")

cityInput.addEventListener("change",function(e){
    let city = e.target.value
    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${api_key}`)
    .then((res) => res.json())
    .then((res) => {
        showWeather(res)
    })

    fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${api_key}`)
    .then((res) => res.json())
    .then((res) => {
        showWeatherList(res)
    })
})

function showWeather(data){
    card.innerHTML = `
        <h4 class="text-center">${data.name}</h4>
        <p class="text-center">${data.weather[0].main}</p>
        <div class="text-center">
          <img src="http://openweathermap.org/img/w/${data.weather[0].icon}.png" />
        </div>
        <div class="row g-3 mt-2 text-center">
            <div class="col-6">
                <div class="shadow p-2 rounded">
                    <i class="ri-temp-hot-line"></i>
                    <br/> Temp : ${(data.main.temp - 273.15).toFixed(2)} &deg;c
                </div>
            </div>
            <div class="col-6">
                <div class="shadow p-2 rounded">
                    <i class="ri-windy-line"></i>
                    <br/> Wind : ${data.wind.speed} m/s
                </div>
            </div>
            <div class="col-6">
                <div class="shadow p-2 rounded">
                    <i class="ri-water-percent-line"></i>
                    <br/> Humidity : ${data.main.humidity} %
                </div>
            </div>
            <div class="col-6">
                <div class="shadow p-2 rounded">
                    <i class="ri-bar-chart-2-line"></i>
                    <br/> Pressure : ${data.main.pressure} hPa
                </div>
            </div>
        </div>
    `
}

function showWeatherList(ele){
    list.innerHTML = ""
    ele.list.map((data)=>{
        list.innerHTML += `
          <div class="row shadow-sm">
              <div class="col-3 col-md-2">
                  <p>${data.dt_txt}</p>
              </div>
              <div class="col-3 col-md-2">
                  <b>${data.weather[0].main}</b>
                  <img src="http://openweathermap.org/img/w/${data.weather[0].icon}.png" alt="">
              </div>
              <div class="col-3 col-md-2">
                  <i class="ri-temp-hot-line"></i> ${(data.main.temp - 273.15).toFixed(2)} &deg;c
              </div>
              <div class="col-3 col-md-2">
                  <i class="ri-windy-line"></i> ${data.wind.speed} m/s
              </div>
              <div class="col-12 col-md-2">
                  <i class="ri-water-percent-line"></i> Humidity : ${data.main.humidity} %
              </div>
          </div>
        `
    })
}
</script>
</body>
</html>
